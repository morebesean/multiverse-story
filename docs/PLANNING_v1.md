# Multiverse - 서비스 전면 재설계 계획 (v1)

## Context
현재 Multiverse는 "What If" 시나리오를 입력하면 AI가 평행우주 이야기를 생성하는 서비스. 기본 흐름은 작동하지만, 글로벌 유저 타겟으로 재미·새로움·공유·수익화를 극대화하기 위해 전면 재설계가 필요함.

**핵심 목표:** 사용자 정보 → AI 이야기 생성(광고 노출) → 재미/공유 → 재방문 순환 구조

---

## 1. 서비스 컨셉 재정의

### 현재 문제
- "What If" 시나리오를 직접 작성해야 하는 높은 진입장벽
- 결과물이 텍스트 위주로 공유 시 매력도 낮음
- 재방문 동기 부족

### 재설계 방향
**컨셉:** "Multiverse Me" — 당신의 평행우주 속 또 다른 인생을 만나보세요

**핵심 차별점:**
- 사용자가 시나리오를 직접 쓰지 않아도 됨 → **선택지 기반 + 자유입력 병행**
- 결과물이 시각적으로 매력적 → **카드형 결과 + OG 이미지 자동생성**
- 매번 다른 결과 → **시드 기반 랜덤성 + 다양한 장르 템플릿**

---

## 2. 사용자 플로우 재설계

### 새로운 3단계 플로우

```
[랜딩] → [Quick Setup] → [로딩+광고] → [결과 카드]
   │                                        │
   │         ← 다시 하기 / 다른 선택 ←       │
   │                                        │
   └────── 공유 링크로 직접 진입 ──────────────┘
```

### Step 1: 랜딩 페이지 (`/`)
- 히어로: "Discover Your Parallel Life" + 애니메이션
- 다른 사용자들의 결과 예시 3개 (미리 생성된 샘플)
- CTA: "Start My Multiverse" 버튼
- 간단한 설명 (3 feature cards)
- SEO 최적화된 FAQ

### Step 2: Quick Setup (`/create`)
**기존 6개 입력 → 2단계 간소화**

**Phase A - 필수 (30초 이내):**
- 이름/닉네임 (텍스트)
- 나이대 선택 (10대/20대/30대/40대/50대+) — 버튼 선택
- 성별 (남/여/기타/선택안함) — 버튼 선택

**Phase B - 시나리오 선택 (핵심 개선):**
- **프리셋 시나리오 카드 8~12개** 제공 (탭 한 번으로 선택 가능)
  - "다른 직업을 선택했다면?"
  - "다른 나라에서 태어났다면?"
  - "그때 고백했다면?"
  - "대학을 안 갔다면?"
  - "1억을 물려받았다면?"
  - "유명인이 되었다면?"
  - "시골에서 살았다면?"
  - "10년 전으로 돌아간다면?"
  - 등등 (언어별 현지화)
- **+ 직접 입력** 옵션도 유지 (textarea)
- 무드 선택 (Hopeful/Realistic/Cynical/Dramatic) — 아이콘+텍스트 버튼
- **직업 입력 삭제** → AI가 시나리오에 맞게 추론

**핵심:** 최소 3번의 탭(나이대 + 성별 + 시나리오 카드)만으로 생성 가능

### Step 3: 로딩 + 광고 (`/result` 로딩 상태)
- 최소 **7초** 로딩 (광고 노출 시간 확보)
- 로딩 중 콘텐츠:
  - "평행우주를 탐색 중..." 등 몰입감 있는 메시지 (5개 로테이션)
  - 프로그레스 바 (가짜지만 몰입용)
  - **AdSense 배너 광고** (상단 또는 중앙)
  - 재미있는 "우주 팩트" or "다른 사람의 결과 미리보기" 표시

### Step 4: 결과 카드 (`/result`)
**카드 기반 스와이프/스크롤 UI로 재설계:**

1. **헤더 카드** — 우주 ID + 세계 이름 + 한 줄 요약
2. **프로필 카드** — 평행우주 속 나의 프로필 (직업, 거주지, 일상)
3. **스탯 카드** — 5개 수치를 레이더 차트 또는 바 그래프로 시각화
4. **타임라인 카드** — 주요 인생 사건 타임라인
5. **하이라이트 카드** — 시네마틱 장면 1~2개
6. **분석 카드** — 얻은 것 vs 잃은 것
7. **메시지 카드** — 평행우주에서 보낸 메시지
8. **풀 스토리** — 전체 이야기 (확장 가능)
9. **CTA 카드** — 공유 버튼 + 다시 하기 + AdSense 광고

**각 카드 사이에 자연스러운 스크롤 애니메이션**

---

## 3. AI 이야기 생성 개선

### 프롬프트 개선
- 프리셋 시나리오별 **특화된 서브프롬프트** 추가
- 문화권별 컨텍스트 반영 (예: 한국 유저면 한국 사회 맥락)
- `full_story` 길이를 현재 400~600자 → **800~1200자**로 확장
- **장르 태그** 추가: #로맨스 #커리어 #모험 등 (공유 시 활용)

### 다양성 강화
- 현재 10개 내러티브 포커스 → **15개+**로 확장
- 프리셋 시나리오 × 무드 × 내러티브 포커스 조합으로 이론적 수백 가지 결과
- 같은 입력이라도 매번 다른 결과를 보장하는 랜덤 시드 메커니즘

---

## 4. 공유 기능 강화

### 4-1. OG 이미지 동적 생성 (핵심)
- `/api/og` 엔드포인트 추가
- Next.js의 `ImageResponse` (Satori) 활용
- 결과 카드의 핵심 정보(우주 이름, 한줄 요약, 스탯)를 이미지로 렌더링
- SNS 공유 시 자동으로 매력적인 미리보기 카드 표시

### 4-2. 고유 결과 URL
- `/result/[id]` 동적 라우트 추가
- 결과를 서버에 저장 (간단한 KV store 또는 DB)
- 또는 클라이언트 사이드: 결과 데이터를 압축+인코딩하여 URL 파라미터로 전달
- 공유 받은 사람이 링크 클릭 시 바로 결과 확인 가능

### 4-3. 소셜 공유 버튼
- Twitter/X 공유 (텍스트 + URL)
- 카카오톡 공유 (한국 유저용)
- WhatsApp 공유
- Instagram 스토리용 이미지 다운로드
- 일반 링크 복사

---

## 5. 수익화 전략 (AdSense)

### 광고 배치 포인트 (총 3~4곳)
1. **로딩 화면** (필수, 7초 노출) — 가장 높은 노출 보장
2. **결과 카드 사이** (스탯 카드 다음 또는 분석 카드 다음) — 네이티브 광고 느낌
3. **결과 하단 CTA 영역** — "다시 하기" 버튼 근처
4. **공유 링크로 진입 시** — 결과 보기 전 인터스티셜 또는 상단 배너

### AdSense 승인률 향상
- 개인정보처리방침 페이지 (이미 있음) ✓
- 이용약관(Terms of Service) 페이지 추가
- About/Contact 페이지 추가
- 사이트맵 자동 생성 (`next-sitemap`)
- robots.txt 설정
- 최소 5페이지 이상의 고유 콘텐츠 확보
- 네비게이션에 모든 법적 페이지 링크

---

## 6. 글로벌화 전략

### 언어 지원 확장
- 현재: 영어, 한국어
- 추가: 일본어(ja), 스페인어(es), 포르투갈어(pt) — 바이럴 잠재력 높은 언어
- 번역 시스템을 JSON 파일 기반으로 리팩토링 (현재 하드코딩된 객체 → `locales/en.json` 등)

### 문화 적응
- 프리셋 시나리오를 언어/문화권별로 현지화
- AI 프롬프트에 사용자 언어 기반 문화 컨텍스트 힌트 추가

### SEO
- 각 언어별 `/[locale]/` 라우팅 (Next.js i18n)
- hreflang 태그
- 각 언어별 메타 태그

---

## 7. 재방문 유도

### 단기
- 결과 하단 "다른 선택지로 해보기" → 다른 프리셋 시나리오 3개 추천
- "친구 결과 보기" → 공유 받은 사람이 자기 것도 만들게 유도

### 중기 (MVP 이후)
- 인기 결과 갤러리 (익명, opt-in)
- "오늘의 시나리오" — 매일 새로운 프리셋 제공
- 결과 히스토리 (localStorage 기반)

---

## 8. 기술 구현 계획

### 수정할 파일
- `src/app/page.tsx` — 랜딩 페이지 재설계
- `src/app/profile/page.tsx` → `src/app/create/page.tsx` — 입력 페이지 재설계
- `src/app/result/page.tsx` — 결과 페이지 카드 UI 재설계
- `src/app/api/generate/route.ts` — 프롬프트 개선, 프리셋 시나리오 지원
- `src/components/language-provider.tsx` — 번역 시스템 리팩토링
- `src/components/ad-banner.tsx` — 광고 컴포넌트 개선
- `src/lib/types.ts` — 타입 업데이트

### 새로 추가할 파일
- `src/app/api/og/route.tsx` — OG 이미지 생성 API
- `src/app/result/[id]/page.tsx` — 공유 가능한 결과 페이지
- `src/app/terms/page.tsx` — 이용약관
- `src/app/about/page.tsx` — About 페이지
- `src/lib/scenarios.ts` — 프리셋 시나리오 데이터
- `src/lib/share.ts` — 공유 유틸리티
- `src/components/stat-chart.tsx` — 스탯 시각화 컴포넌트
- `src/components/share-buttons.tsx` — 소셜 공유 버튼
- `locales/en.json`, `locales/ko.json` 등 — 번역 파일 분리

### 추가 패키지
- `next-sitemap` — 사이트맵 자동 생성
- `lz-string` — 결과 데이터 압축 (URL 공유용, DB 없이)

---

## 9. 구현 우선순위 (Phase별)

### Phase 1: 핵심 UX 개선 (최우선)
1. 입력 페이지 재설계 (프리셋 시나리오 카드 + 간소화)
2. 결과 페이지 카드 UI 재설계
3. 로딩 화면 개선 (7초 + 프로그레스 바)
4. AI 프롬프트 개선

### Phase 2: 공유 & 수익화
5. 소셜 공유 버튼 구현
6. OG 이미지 동적 생성
7. 결과 URL 공유 (데이터 압축 방식)
8. AdSense 광고 배치 최적화
9. 이용약관/About 페이지 추가

### Phase 3: 글로벌화
10. 번역 시스템 리팩토링 (JSON 파일 분리)
11. 프리셋 시나리오 현지화
12. SEO 최적화 (sitemap, robots.txt, meta tags)

### Phase 4: 재방문 유도 (MVP 이후)
13. 결과 히스토리
14. "다른 선택지" 추천
15. 인기 결과 갤러리

---

## 10. 검증 방법
- `npm run dev`로 로컬 실행 후 전체 플로우 테스트
- 각 페이지 전환 및 입력 → 생성 → 결과 확인
- 공유 URL 생성 및 복원 테스트
- OG 이미지 생성 확인 (`/api/og?data=...`)
- 모바일/데스크톱 반응형 확인
- 다국어 전환 테스트
- Lighthouse 점수 확인 (성능, SEO, 접근성)
